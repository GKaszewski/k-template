[template]
cargo_generate_version = ">=0.21.0"
ignore = [".git", "target", ".idea", ".vscode"]

[placeholders]
project_name = { type = "string", prompt = "Project name" }
database = { type = "string", prompt = "Database type", choices = [
    "sqlite",
    "postgres",
], default = "sqlite" }

[hooks]
post = ["migrations.rhai"]

[conditional]
# Conditional dependencies based on database choice
sqlite = { condition = "database == 'sqlite'", ignore = [
    "template-infra/src/user_repository_postgres.rs",
    "migrations_postgres",
] }
postgres = { condition = "database == 'postgres'", ignore = [
    "template-infra/src/user_repository_sqlite.rs",
    "migrations",
] }
